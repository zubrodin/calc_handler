# Калькулятор на Go

Этот проект представляет собой простой калькулятор, реализованный на языке Go, который поддерживает основные арифметические операции и работу с выражениями в формате обратной польской нотации (ОПН). Также включен HTTP-сервер для обработки запросов на вычисление выражений.

---

## Установка

1. Убедитесь, что у вас установлен Go (версия 1.16 или выше).
2. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/zubrodin/calc_handler
   
3. Установите зависимости :

   ```bash
   go mod tidy


---
   
## Как работает калькулятор

Калькулятор принимает строку с математическим выражением и возвращает результат вычисления. Поддерживаемые операции:

- **Сложение**: `+`
- **Вычитание**: `-`
- **Умножение**: `*`
- **Деление**: `/`
- **Скобки** для обозначения приоритета операций: `(` и `)`

### Примеры использования

- Ввод: `3 + 5` → Вывод: `8`
- Ввод: `(1 + 2) * 3` → Вывод: `9`
- Ввод: `10 / 2 + 3 * (2 - 1)` → Вывод: `8`

---

## Обработка ошибок

Калькулятор возвращает следующие ошибки:

- **empty expression or invalid request** — если выражение пустое или некорректное.
- **invalid expression** — если выражение не может быть обработано.
- **division by zero** — если происходит деление на ноль.

---

## Как работает сервер

Сервер предоставляет API для вычисления математических выражений. Он принимает POST-запросы с JSON-объектом, содержащим выражение.

## Пример запроса

    
    POST /api/v1/calculate 
    Content-Type: application/json
    { "expression": "3 + 5" }


## Пример ответа

    
    HTTP/1.1 200 OK
    {
    "result": 8.000000
    }

---

## Примеры обработки ошибок

### Пустое выражение

**Запрос:**

    
    POST /api/v1/calculate
    Content-Type: application/json

    { "expression": "" }


**Ответ:**
  
   
    HTTP/1.1 422 Unprocessable Entity
    {
    "error": "empty expression or invalid request"
    }


### Деление на ноль

**Запрос:**

    
    POST /api/v1/calculate
    Content-Type: application/json

    { "expression": "3 / 0" }


**Ответ:**

    
    HTTP/1.1 422 Unprocessable Entity
    {
    "error": "division by zero"
    }


### Некорректное выражение

**Запрос:**

   
    POST /api/v1/calculate
    Content-Type: application/json

    { "expression": "invalid" } 


**Ответ:**
    
    HTTP/1.1 422 Unprocessable Entity
    {
    "error": "invalid expression"
    }
---
    
## Как запустить сервер

1. Перейдите в каталог проекта.

2. Запустите сервер:

   ```bash 
   go run ./cmd/main.go

   //Сервер будет доступен по адресу http://localhost:8080/api/v1/calculate.
---

## Как запустить тесты

Для запуска тестов выполните следующую команду в корневом каталоге проекта:
   
   ```bash
    go test ./pkg/calc       //для запуска теста калукулятора

    go test ./application   //для запуска теста сервера
